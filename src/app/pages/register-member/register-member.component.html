<form [formGroup]="registerForm" (submit)="submit()">
  <p-card>
    <ng-template #title>Ajouter un membre</ng-template>
    <div class="grid">
      <div class="col-6">
        <p-float-label variant="on">
          <input pInputText formControlName="username" />
          <label>Nom d'utilisateur</label>
        </p-float-label>
        <app-form-error
          [control]="registerForm.get('username')!"
        ></app-form-error>
      </div>
    </div>
    <div class="grid">
      <div class="col-6">
        <p-float-label variant="on">
          <input pInputText formControlName="email" />
          <label>Email</label>
        </p-float-label>
        <app-form-error [control]="registerForm.get('email')!"></app-form-error>
      </div>
    </div>

    <div formGroupName="password">
      <div class="grid">
        <div class="col-6">
          <p-float-label variant="on">
            <p-password
              formControlName="password"
              [feedback]="false"
              autocomplete="new-password"
              [toggleMask]="true"
            />
            <label>Mot de passe</label>
          </p-float-label>
          <app-form-error
            [control]="passwordForm.get('password')!"
          ></app-form-error>
        </div>
      </div>
      <div class="grid">
        <div class="col-6">
          <p-float-label variant="on">
            <p-password
              formControlName="confirmPassword"
              [feedback]="false"
              [toggleMask]="true"
            />
            <label>Confirmez le mot de passe</label>
          </p-float-label>
          <app-form-error
            [control]="passwordForm.get('confirmPassword')!"
          ></app-form-error>
          <app-form-error [control]="passwordForm"></app-form-error>
        </div>
      </div>
    </div>
    <ng-template #footer>
      <p-button type="submit" loadingIcon="pi pi-cog" label="Sauver">
        <!--TODO : [disabled]="isLoading"
        [loading]="isLoading" -->
      </p-button>
    </ng-template>
  </p-card>
</form>
